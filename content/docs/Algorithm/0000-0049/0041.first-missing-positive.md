---
title: "0041.缺失的第一个正数"
---

{{% pageinfo %}}
[0041.缺失的第一个正数](https://leetcode.cn/problems/first-missing-positive/)
{{% /pageinfo %}}

## 方法一：置换

时间复杂度 $O(n)$，空间复杂度 $O(1)$。

{{< tabpane persistLang=false >}}
{{< tab header="Solutions:" disabled=true />}}

{{< tab header="solution.go" lang="go" >}}
func firstMissingPositive(nums []int) int {
	n := len(nums)
	for i := 0; i < n; i++ {
		for nums[i] > 0 && nums[i] <= n && nums[i] != nums[nums[i]-1] {
			nums[i], nums[nums[i]-1] = nums[nums[i]-1], nums[i]
		}
	}
	for i := 0; i < n; i++ {
		if nums[i] != i+1 {
			return i + 1
		}
	}
	return n + 1
}
{{< /tab >}}

{{< /tabpane >}}

## 方法二：哈希

时间复杂度 $O(n)$，空间复杂度 $O(1)$。

{{< tabpane persistLang=false >}}
{{< tab header="Solutions:" disabled=true />}}

{{< tab header="solution.go" lang="go" >}}
func firstMissingPositive(nums []int) int {
	n := len(nums)
	for i := 0; i < n; i++ {
		if nums[i] <= 0 {
			nums[i] = n + 1
		}
	}
	for i := 0; i < n; i++ {
		v := abs(nums[i])
		if v <= n {
			nums[v-1] = -abs(nums[v-1])
		}
	}
	for i := 0; i < n; i++ {
		if nums[i] > 0 {
			return i + 1
		}
	}
	return n + 1
}

func abs(a int) int {
	if a < 0 {
		return -a
	}
	return a
}
{{< /tab >}}

{{< /tabpane >}}
