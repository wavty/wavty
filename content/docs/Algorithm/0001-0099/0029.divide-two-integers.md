---
title: "0029.两数相除"
---

{{% pageinfo %}}
[0029.两数相除](https://leetcode.cn/problems/divide-two-integers)
{{% /pageinfo %}}

## 方法一：快速幂

时间复杂度 $O(\log dividend \times \log divisor)$，空间复杂度 $O(1)$。

{{< tabpane persistLang=false >}}
{{< tab header="Solutions:" disabled=true />}}

{{< tab header="solution.go" lang="go" >}}
func divide(dividend int, divisor int) int {
	// true 为负数，false 为正数
	sign := false
	if (dividend > 0 && divisor < 0) || (dividend < 0 && divisor > 0) {
		sign = true
	}
	if dividend > 0 {
		dividend = -dividend
	}
	if divisor > 0 {
		divisor = -divisor
	}
	INT_MAX, INT_MIN, LIMIT, ans := 1<<31-1, -1<<31, -1<<31/2, 0

	for dividend <= divisor {
		cnt := 0
		// (divisor<<cnt) >= LIMIT 确保 divisor<<(cnt+1) 不会溢出
		for (divisor<<cnt) >= LIMIT && dividend <= (divisor<<(cnt+1)) {
			cnt++
		}
		ans += -1 << cnt
		dividend -= divisor << cnt
	}
	if sign {
		return ans
	}
	if ans == INT_MIN {
		return INT_MAX
	}
	return -ans
}
{{< /tab >}}

{{< /tabpane >}}
